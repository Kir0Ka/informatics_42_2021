#include <iostream>
#include <cmath>
#include <iomanip>
using namespace std;
int main()
{
    double beg, end, step, tabl, otrez1, otrez2,c, fa, fc;
    cout << "Type left side = ";
    cin >> beg;
    cout << "Type right side = ";
    cin >> end;
    cout << "Enter step = ";
    cin >> step;
    cout << endl;
    cout << "x" << "\t" << "y" <<endl;
    
    int t = 0;
    int x;
    for(x=beg; x<=end; x+=step)
    {
        double f1= log10((x/2) - (2/(pow (x,2)))) ;
        double f2 = log10(((x+1)/2) - (2/(pow ((x+1),2)))) ;
        if((((f1 > 0) && (f2 < 0)) || ((f1 < 0) && (f2 > 0)) ) && (t == 0))
        {
            otrez1 = x;
            otrez2 = x+step;
            t +=1;
        }

        cout << x << "\t"<< f1 << endl;
    }
    cout<<endl;
    cout << "The root lies = [" << otrez1 <<"; "<<otrez2<<"]"<<endl;
    cout<<endl;
    cout << setw(5) << "a" << setw(15) << "b" << setw(15) << "c" << setw(15) << "b-a" << setw(15) << "f(a)" << setw(15) << "f(c)" << setw(15) << "f(a)*f(c)" << endl;
    t = 0;
    while (otrez2-otrez1 > 0.0001) 
    {   
        c = (otrez1+otrez2)/2;
        fa = log10((otrez1/2) - (2/(pow (otrez1,2))));
        fc = log10((c/2) - (2/(pow (c,2))));
        cout << setw(5) << otrez1 << setw(15) << otrez2 << setw(15) << c << setw(15) << otrez2-otrez1 << setw(15) << fa << setw(15) << fc << setw(15) << fa*fc << endl;
        if (fa*fc < 0)
        {
            otrez2 = c;
        } else if (fa*fc > 0){
            otrez1 = c;           
        }
        t +=1; 
    } 
    cout <<"The root of the equation = " << c << endl;
    cout <<"Step = "<< t <<endl;

    return 0;
}

//Alexandr Butusov helped
